trigger:
  - master

pool:
  vmImage: 'windows-latest'

variables:
  solution: 'OpenMatch.csharp.sln'
  buildConfiguration: 'Release'

steps:
  - task: DotNetCoreCLI@2
    name: Restore
    inputs:
      command: 'restore'
      projects: |
        $(solution)

  - task: DotNetCoreCLI@2
    name: Build
    inputs:
      command: 'build'
      projects: |
        $(solution)
      arguments: -c $(buildConfiguration)

  - task: DotNetCoreCLI@2
    name: Test
    inputs:
      command: 'test'
      projects: |
        $(solution)
      arguments: -c $(buildConfiguration)
